# 课程31：《PIMP 核心笔记》第二部分：内核模块1 - 意图清晰模块 🎯

## 概述
在本节课中，我们将通过一个视频示范，学习如何识别“意图不清晰”的代码。我们将分析一个反面案例，理解其问题所在，并明确“意图清晰”编程的核心要求。

上一节我们介绍了“意图清晰”模块的基本概念，本节中我们来看看一个具体的“意图不清晰”示范。

## 视频示范：意图不清晰代码分析
以下是一段用于示范的、意图不清晰的代码对话。我们将逐句分析其问题。

```
我來打招呼，你的狀態是，嗨 嗨你好，很高興認識你。
```

这段代码模拟了一个简单的打招呼功能，但存在多处意图不清晰的问题。

以下是这段代码存在的主要问题列表：

1.  **函数/变量命名模糊**：`我來打招呼`和`你的狀態是`未能清晰表达其目的。是“执行打招呼”还是“定义打招呼函数”？“状态”具体指什么？
2.  **逻辑混杂**：问候语`嗨 嗨你好，很高興認識你。`被直接硬编码在可能是逻辑判断或赋值的地方，数据与逻辑没有分离。
3.  **缺乏结构**：代码没有使用清晰的编程结构（如函数定义、变量赋值），导致执行意图难以理解。
4.  **存在歧义**：整段代码更像是一句随意的描述，而非可执行的、意图明确的指令。

## 如何改进？
要使代码意图清晰，我们需要应用几个核心原则。我们可以用简单的**公式**来表达其思想：`清晰代码 = 准确命名 + 逻辑分离 + 良好结构`。

以下是将上述代码改进为意图清晰版本的步骤：

*   **第一步：使用有意义的名称**。将模糊的描述转化为具体的操作。
    *   例如，定义一个名为 `greet_user` 的函数。
*   **第二步：分离数据与逻辑**。将问候语字符串定义为单独的变量或常量。
    *   例如，`const GREETING_MESSAGE = “嗨，你好，很高兴认识你。”;`
*   **第三步：组织代码结构**。使用标准的语法来组织代码。
    *   例如，在函数体内调用打印或返回问候语。

改进后的伪代码示意如下：
```python
# 定义问候语常量，数据与逻辑分离
GREETING_MESSAGE = “嗨，你好，很高兴认识你。”

# 定义清晰的函数，用于执行打招呼操作
def greet_user():
    # 在函数体中执行具体的问候操作
    print(GREETING_MESSAGE)

# 调用函数
greet_user()
```

## 总结
本节课中，我们一起学习了“意图不清晰”代码的典型特征。我们通过分析一个反面示范，看到了模糊命名、逻辑混杂和结构缺失如何让代码难以理解。同时，我们也了解了改进的方向：通过**准确命名**、**分离数据与逻辑**以及**构建良好结构**来使代码意图变得清晰明了。记住核心公式 **`清晰代码 = 准确命名 + 逻辑分离 + 良好结构`**，这将帮助你在未来写出更易读、更易维护的代码。