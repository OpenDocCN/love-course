# 贤师傅教程 01：基础概念与操作 🧑‍🍳

在本节课中，我们将要学习贤师傅系统的基础概念和核心操作流程。我们将从理解其基本架构开始，逐步介绍如何启动系统、执行任务以及查看结果。

---

## 系统架构概述

上一节我们介绍了课程目标，本节中我们来看看贤师傅系统的核心架构。贤师傅是一个模块化的任务处理系统，其核心思想是将复杂任务分解为一系列可执行的步骤。

系统的运行依赖于三个核心组件：
*   **任务调度器**：负责接收指令并协调整个流程。
*   **处理模块**：执行具体的功能，如数据清洗、分析或报告生成。
*   **结果存储器**：保存每个步骤的输出和最终结果。

它们之间的关系可以用一个简单的公式表示：
**完整任务 = 调度器(模块1(输入), 模块2(...), ...)**

---

## 启动与初始化

理解了架构之后，接下来我们需要知道如何启动系统。系统的启动过程是自动化的，但需要正确的配置。

以下是启动系统前的必要检查步骤：

1.  确认配置文件 `config.yaml` 存在于项目根目录。
2.  检查环境变量 `MASTER_PATH` 是否已正确设置。
3.  运行验证脚本 `python validate_setup.py`，确保所有依赖项已就绪。

完成上述检查后，便可以通过一行命令启动系统主服务。

```bash
python master_control.py --start
```

---

## 执行第一个任务

系统成功启动后，我们就可以尝试执行第一个任务了。任务通过编写任务描述文件来定义。

一个最基本的任务描述文件结构如下所示：

```yaml
task_id: demo_001
steps:
  - name: 数据加载
    module: data_loader
    params:
      file_path: "input/data.csv"
  - name: 简单计算
    module: simple_calculator
    params:
      operation: "sum"
      column: "value"
```

以下是提交并执行任务的步骤：

1.  将任务描述文件保存为 `demo_task.yaml`。
2.  使用客户端工具提交任务：`client submit demo_task.yaml`。
3.  使用命令 `client status demo_001` 来查询任务执行状态。
4.  任务完成后，使用 `client fetch demo_001` 获取处理结果。

---

## 查看结果与日志

任务执行完毕后，获取和分析结果至关重要。系统提供了多种方式来查看输出和调试信息。

结果通常保存在以任务ID命名的目录中。日志文件对于排查问题非常重要。

你可以通过以下方式访问它们：

*   **结果文件**：位于 `./results/<task_id>/output.json`。
*   **详细日志**：位于 `./logs/master.log`，记录系统级信息。
*   **任务日志**：位于 `./results/<task_id>/task.log`，记录该任务每个步骤的详细信息。

> 提示：建议在开发阶段始终打开任务日志的调试级别，以便追踪完整的执行流程。

---

## 总结

本节课中我们一起学习了贤师傅系统的基础知识。我们首先了解了其核心架构，然后完成了从系统启动、任务定义与提交，到结果查看的完整操作流程。

掌握这些基础概念和操作，是后续学习更高级任务编排和模块开发的前提。下一节课，我们将深入探讨如何编写自定义的处理模块。